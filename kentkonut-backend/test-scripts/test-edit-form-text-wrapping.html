<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Edit Form Text Wrapping Test - Kent Konut</title>
    <link rel="stylesheet" href="components/editors/TipTapEditor/tiptap-styles.css">
    <link rel="stylesheet" href="app/globals.css">
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
            line-height: 1.6;
        }
        .test-section {
            margin: 40px 0;
            padding: 20px;
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            background: #f9fafb;
        }
        .test-title {
            color: #374151;
            margin-bottom: 20px;
            font-weight: 600;
        }
        .editor-container {
            border: 1px solid #d1d5db;
            border-radius: 8px;
            padding: 16px;
            min-height: 300px;
            background: white;
        }
        .debug-info {
            background: #fef3c7;
            padding: 10px;
            margin: 10px 0;
            border-radius: 4px;
            font-size: 12px;
            color: #92400e;
            border-left: 4px solid #f59e0b;
        }
        .success-info {
            background: #d1fae5;
            padding: 10px;
            margin: 10px 0;
            border-radius: 4px;
            font-size: 12px;
            color: #065f46;
            border-left: 4px solid #10b981;
        }
        .comparison {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }
        .comparison-item {
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            padding: 16px;
            background: white;
        }
        .comparison-title {
            font-weight: 600;
            margin-bottom: 10px;
            padding-bottom: 8px;
            border-bottom: 1px solid #e5e7eb;
        }
    </style>
</head>
<body>
    <h1>Kent Konut Edit Form - Text Wrapping Test</h1>
    <p>Bu test sayfasÄ±, edit formunda kullanÄ±lan RichTextEditor'Ã¼n text wrapping davranÄ±ÅŸÄ±nÄ± test etmek iÃ§in oluÅŸturulmuÅŸtur.</p>

    <div class="debug-info">
        <strong>ğŸ” Test Edilen Sorun:</strong> Edit formunda (dÃ¼zenle) TipTap editÃ¶rÃ¼nde floating resim yanÄ±na metin yazÄ±p Enter tuÅŸuna basÄ±ldÄ±ÄŸÄ±nda, 
        metin resmin yanÄ±nda kalmak yerine hemen resmin altÄ±na geÃ§iyor ve resim yanÄ±nda boÅŸluk kalÄ±yor.
    </div>

    <div class="success-info">
        <strong>âœ… Beklenen DavranÄ±ÅŸ:</strong> Enter tuÅŸuna basÄ±ldÄ±ÄŸÄ±nda yeni paragraflar resmin yanÄ±nda devam etmeli, 
        sadece yeterli metin olduÄŸunda resmin altÄ±na geÃ§meli.
    </div>

    <div class="test-section">
        <h2 class="test-title">Test 1: Edit Form RichTextEditor SimÃ¼lasyonu</h2>
        <div class="debug-info">
            Bu test, edit formunda kullanÄ±lan RichTextEditor'Ã¼n tam konfigÃ¼rasyonunu simÃ¼le ediyor:
            <br>â€¢ prose prose-sm max-w-none focus:outline-none classes
            <br>â€¢ CustomImage with image-wrapper class
            <br>â€¢ inline: false configuration
        </div>
        
        <div class="editor-container prose prose-sm max-w-none focus:outline-none">
            <div class="image-wrapper float-left" style="width: 220px;">
                <img src="https://via.placeholder.com/220x165/0070f3/ffffff?text=Edit+Form+Test" alt="Edit form test resmi" style="width: 100%; height: auto;">
            </div>
            <p>Bu paragraf, edit formundaki RichTextEditor'de floating resmin yanÄ±nda yer alÄ±yor.</p>
            <p>Enter tuÅŸuna basÄ±ldÄ±ÄŸÄ±nda oluÅŸan bu paragraf resmin yanÄ±nda kalmalÄ±, altÄ±na geÃ§memeli.</p>
            <p>ÃœÃ§Ã¼ncÃ¼ paragraf da resmin yanÄ±nda devam etmeli.</p>
            <p>DÃ¶rdÃ¼ncÃ¼ paragraf hala resmin yanÄ±nda olmalÄ±.</p>
            <p>BeÅŸinci paragraf artÄ±k resmin altÄ±na geÃ§ebilir Ã§Ã¼nkÃ¼ yeterli metin var.</p>
            <p>AltÄ±ncÄ± paragraf tamamen resmin altÄ±nda.</p>
        </div>
    </div>

    <div class="test-section">
        <h2 class="test-title">Test 2: SaÄŸ Float Test (Edit Form)</h2>
        <div class="debug-info">
            SaÄŸ float davranÄ±ÅŸÄ±nÄ± edit form konfigÃ¼rasyonu ile test ediyoruz
        </div>
        
        <div class="editor-container prose prose-sm max-w-none focus:outline-none">
            <div class="image-wrapper float-right" style="width: 200px;">
                <img src="https://via.placeholder.com/200x150/dc2626/ffffff?text=Sag+Float+Edit" alt="SaÄŸ float edit test" style="width: 100%; height: auto;">
            </div>
            <p>Bu paragraf, edit formunda saÄŸ tarafa float edilmiÅŸ resmin yanÄ±nda baÅŸlÄ±yor.</p>
            <p>Enter ile oluÅŸturulan bu paragraf resmin sol tarafÄ±nda kalmalÄ±.</p>
            <p>ÃœÃ§Ã¼ncÃ¼ paragraf da resmin yanÄ±nda devam etmeli.</p>
            <p>DÃ¶rdÃ¼ncÃ¼ paragraf artÄ±k resmin altÄ±na geÃ§ebilir.</p>
        </div>
    </div>

    <div class="comparison">
        <div class="comparison-item">
            <div class="comparison-title">âŒ Ã–nceki Sorunlu DavranÄ±ÅŸ</div>
            <ul style="font-size: 14px; color: #6b7280;">
                <li>Enter tuÅŸuna basÄ±ldÄ±ÄŸÄ±nda metin hemen resmin altÄ±na geÃ§iyordu</li>
                <li>Resim yanÄ±nda bÃ¼yÃ¼k boÅŸluklar kalÄ±yordu</li>
                <li>Prose classes editÃ¶r iÃ§eriÄŸine uygulanmÄ±yordu</li>
                <li>CSS specificity yetersizdi</li>
            </ul>
        </div>
        <div class="comparison-item">
            <div class="comparison-title">âœ… DÃ¼zeltilmiÅŸ DavranÄ±ÅŸ</div>
            <ul style="font-size: 14px; color: #065f46;">
                <li>Enter tuÅŸuna basÄ±ldÄ±ÄŸÄ±nda metin resmin yanÄ±nda devam ediyor</li>
                <li>Resim yanÄ±nda boÅŸluk kalmÄ±yor</li>
                <li>Prose classes doÄŸru ÅŸekilde uygulanÄ±yor</li>
                <li>YÃ¼ksek specificity CSS kurallarÄ± Ã§alÄ±ÅŸÄ±yor</li>
            </ul>
        </div>
    </div>

    <div class="test-section">
        <h2 class="test-title">Test 3: Data-Align Attribute Test (Edit Form)</h2>
        <div class="debug-info">
            Bu test, data-align attribute'u ile floating davranÄ±ÅŸÄ±nÄ± edit form ortamÄ±nda test ediyor
        </div>
        
        <div class="editor-container prose prose-sm max-w-none focus:outline-none">
            <img src="https://via.placeholder.com/180x135/059669/ffffff?text=Data+Align" alt="Data align test" data-align="float-left" style="width: 180px;">
            <p>Bu paragraf, data-align="float-left" attribute'u ile float edilmiÅŸ resmin yanÄ±nda yer alÄ±yor.</p>
            <p>Edit formunda Enter tuÅŸuna basÄ±ldÄ±ÄŸÄ±nda oluÅŸan bu paragraf resmin yanÄ±nda kalmalÄ±.</p>
            <p>ÃœÃ§Ã¼ncÃ¼ paragraf da resmin yanÄ±nda devam etmeli.</p>
            <p>DÃ¶rdÃ¼ncÃ¼ paragraf artÄ±k resmin altÄ±na geÃ§ebilir.</p>
        </div>
    </div>

    <div class="test-section">
        <h2 class="test-title">ğŸ”§ YapÄ±lan DÃ¼zeltmeler</h2>
        <div style="background: white; padding: 16px; border-radius: 8px;">
            <h3 style="color: #374151; margin-top: 0;">1. EditorProps Eklendi</h3>
            <p style="font-size: 14px; color: #6b7280;">Edit form RichTextEditor'Ã¼ne eksik olan editorProps konfigÃ¼rasyonu eklendi:</p>
            <pre style="background: #f3f4f6; padding: 8px; border-radius: 4px; font-size: 12px;">editorProps: {
  attributes: {
    class: 'prose prose-sm max-w-none focus:outline-none',
  },
}</pre>

            <h3 style="color: #374151;">2. CustomImage Class Standardizasyonu</h3>
            <p style="font-size: 14px; color: #6b7280;">TÃ¼m editÃ¶rlerde CustomImage class'Ä± 'image-wrapper' olarak standardize edildi.</p>

            <h3 style="color: #374151;">3. CSS Specificity ArtÄ±rÄ±ldÄ±</h3>
            <p style="font-size: 14px; color: #6b7280;">Edit form iÃ§in Ã¶zel yÃ¼ksek specificity CSS kurallarÄ± eklendi.</p>
        </div>
    </div>

    <script>
        console.log('ğŸ§ª Edit Form Text Wrapping Test Page Loaded');
        console.log('Bu sayfa, edit formundaki TipTap editÃ¶rÃ¼nÃ¼n metin sarma davranÄ±ÅŸÄ±nÄ± test etmek iÃ§in oluÅŸturulmuÅŸtur.');
        
        // Test the CSS behavior
        document.addEventListener('DOMContentLoaded', function() {
            const editors = document.querySelectorAll('.editor-container');
            console.log(`Found ${editors.length} test editors`);
            
            editors.forEach((editor, index) => {
                const classes = editor.className;
                console.log(`Editor ${index + 1}: ${classes}`);
                
                const images = editor.querySelectorAll('.image-wrapper, img[data-align]');
                console.log(`  - Images: ${images.length}`);
                
                images.forEach((img, imgIndex) => {
                    const imgClasses = img.className || 'no-class';
                    const dataAlign = img.getAttribute('data-align') || 'no-data-align';
                    console.log(`    Image ${imgIndex + 1}: classes="${imgClasses}", data-align="${dataAlign}"`);
                });
            });
        });
    </script>
</body>
</html>
